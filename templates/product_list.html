{% load static %}
<main class="container mx-auto my-12 px-4">
  <h1 class="text-4xl font-bold text-center mb-10">Products</h1>

  <div class="flex flex-wrap justify-center -mx-3">
    {% for product in products %}
    <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 px-3 mb-8">
      <a href="{% url 'product_detail' product.pk %}" class="block">
        <div class="bg-white p-4 rounded-xl shadow-md hover:shadow-xl transition-transform hover:-translate-y-1 duration-300 flex flex-col cursor-pointer">

        <!-- Product Image -->
        <div class="overflow-hidden rounded-lg mb-3 bg-gray-50 h-56 flex items-center justify-center">
          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
          {% else %}
            <img src="{% static 'images/no-image.png' %}" alt="No Image" class="w-full h-full object-cover">
          {% endif %}
        </div>

        <!-- Product Name -->
        <h2 class="text-lg font-semibold text-center text-gray-800 mb-2">{{ product.name }}</h2>

        <!-- Price -->
        <p class="text-center text-orange-500 font-bold mb-3">à§³ {{ product.price }}</p>

        <!-- Buttons -->
        <div class="flex justify-center space-x-2 mt-auto">
          <a href="{% url 'add_to_cart' product.pk %}"
             class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full transition"
             style="display: block !important; visibility: visible !important; background-color: #3b82f6 !important;"
             onclick="event.stopPropagation();">
             ðŸ›’ ADD TO CART
          </a>
          <a href="{% url 'product_checkout' product.pk %}"
             class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-full transition"
             onclick="event.stopPropagation();">
             Buy Now
          </a>
        </div>

        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</main>
